{% extends 'main/base.html' %}
{% load static %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'tracker/css/tracker.css' %}">
{% endblock %}
{% block content %}

    <main class="main-tp">
        <div class="container">

            <div class="header">
                <div class="date" id="current-date">–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, 15 –¥–µ–∫–∞–±—Ä—è</div>
                <div class="balance-score" id="balance-score">{{ total_points }}%</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="main-progress" style="width: {{ total_points }}%"></div>
                </div>
                <div class="balance-status" id="balance-status">üü° –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –±–∞–ª–∞–Ω—Å–∞</div>
            </div>

            <div class="section physical">
                <div class="section-header">
                    <span class="icon"><i class="fas fa-walking"></i></span> –§–ò–ó–ò–ß–ï–°–ö–û–ï –ó–î–û–†–û–í–¨–ï

                </div>
                <div class="section-progress">
                    <div class="section-progress-fill" style="width: {{ total_points }}%"></div>
                </div>

                <div class="tracker-grid">
                    <div class="tracker-item">
                        <div class="tracker-title">
                            <span class="emoji">üçΩÔ∏è</span>
                            –ü–ò–¢–ê–ù–ò–ï
                        </div>
                        <div class="meals-container">
                            <div class="meal {% if meals.breakfast %}eaten{% endif %}" data-meal="breakfast">
                                <div>üç≥</div>
                                <div class="meal-time">–ó–∞–≤—Ç—Ä–∞–∫</div>
                            </div>
                            <div class="meal {% if meals.lunch %}eaten{% endif %}" data-meal="lunch">
                                <div>üç≤</div>
                                <div class="meal-time">–û–±–µ–¥</div>
                            </div>
                            <div class="meal {% if meals.dinner %}eaten{% endif %}" data-meal="dinner">
                                <div>üçù</div>
                                <div class="meal-time">–£–∂–∏–Ω</div>
                            </div>
                        </div>
                    </div>

                    <!-- Water -->
                    <div class="tracker-item">
                        <div class="tracker-title" id="tracker-water">
                            <span class="emoji">üíß</span>
                            –í–û–î–ê ({{ water }}/10)
                        </div>
                        <div class="water-container">
                            {% for i in water_range %}
                                <div class="glass {% if i <= water %}filled{% endif %}">üíß</div>
                            {% endfor %}

                        </div>
                    </div>

                    <!-- Movement -->
                    <div class="tracker-item">
                        <div class="tracker-title">
                            <span class="emoji">üö∂</span>
                            –î–í–ò–ñ–ï–ù–ò–ï
                        </div>
                        <div class="movement-controls">
                            <button class="time-btn" onclick="updateMovement(-5)">-5</button>
                            <div class="time-display" id="movement-time">{{ movement_minutes }} –º–∏–Ω</div>
                            <button class="time-btn" onclick="updateMovement(5)">+5</button>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="went-outside">
                            <label for="went-outside">üö∂ –í—ã—à–µ–ª –Ω–∞ —É–ª–∏—Ü—É</label>
                        </div>
                    </div>

                    <!-- Stimulants -->
                    {#                    <div class="tracker-item">#}
                    {#                        <div class="tracker-title">#}
                    {#                            <span class="emoji">‚ö°</span>#}
                    {#                            –°–¢–ò–ú–£–õ–Ø–¢–û–†–´#}
                    {#                        </div>#}
                    {#                        <div class="stimulants-grid">#}
                    {#                            <div class="stimulant-item">#}
                    {#                                <div>‚òï –ö–æ—Ñ–µ</div>#}
                    {#                                <div class="stimulant-buttons">#}
                    {#                                    <button class="stimulant-btn active">1</button>#}
                    {#                                    <button class="stimulant-btn">2</button>#}
                    {#                                    <button class="stimulant-btn">3</button>#}
                    {#                                </div>#}
                    {#                            </div>#}
                    {#                            <div class="stimulant-item">#}
                    {#                                <div>üç© –°–ª–∞–¥–∫–æ–µ</div>#}
                    {#                                <div class="stimulant-buttons">#}
                    {#                                    <button class="stimulant-btn">1</button>#}
                    {#                                    <button class="stimulant-btn">2</button>#}
                    {#                                    <button class="stimulant-btn">3</button>#}
                    {#                                    <button class="stimulant-btn">4</button>#}
                    {#                                    <button class="stimulant-btn">5</button>#}
                    {#                                </div>#}
                    {#                            </div>#}
                    {#                        </div>#}
                    {#                    </div>#}
                </div>
            </div>

            <div class="section emotional">
                <div class="section-header">
                    <span class="icon"><i class="fa-solid fa-heart"></i></span>
                    –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–û–ï –°–û–°–¢–û–Ø–ù–ò–ï
                </div>
                <div class="section-progress">
                    <div class="section-progress-fill" style="width: 50%"></div>
                </div>

                <div class="tracker-grid">
                    <div class="tracker-item">
                        <div class="tracker-title">
                            <span class="emoji">üòä</span>
                            –ù–ê–°–¢–†–û–ï–ù–ò–ï
                        </div>
                        <div class="mood-container">
                            <div class="mood-option selected" data-mood="3">
                                <div>üòä</div>
                                <div>–•–æ—Ä–æ—à–æ</div>
                            </div>
                            <div class="mood-option" data-mood="2">
                                <div>üòê</div>
                                <div>–ù–æ—Ä–º–∞–ª—å–Ω–æ</div>
                            </div>
                            <div class="mood-option" data-mood="1">
                                <div>üò¢</div>
                                <div>–ü–ª–æ—Ö–æ</div>
                            </div>
                        </div>
                    </div>

                    <div class="tracker-item">
                        <div class="tracker-title">
                            <span class="emoji">üßò</span>
                            –†–ï–õ–ê–ö–° ({{ relaxation_minutes }}/10 –º–∏–Ω)
                        </div>
                        <div class="relaxation-controls">
                            <button class="time-btn" onclick="updateRelaxation(-5)">-5</button>
                            <div class="time-display" id="relaxation-time">{{ relaxation_minutes }} –º–∏–Ω</div>
                            <button class="time-btn" onclick="updateRelaxation(5)">+5</button>
                        </div>
                    </div>

                    <div class="tracker-item">
                        <div class="tracker-title">
                            <span class="emoji">üéØ</span>
                            –ß–ï–õ–õ–ï–ù–î–ñ –î–ù–Ø
                        </div>
                        <div class="challenge-card">
                            <div class="challenge-text">"–°–¥–µ–ª–∞–π 5 –≥–ª—É–±–æ–∫–∏—Ö –≤–¥–æ—Ö–æ–≤"</div>
                            <button class="challenge-btn" id="challengeButton"
    {% if completed_challenge %}disabled{% endif %} onclick="completeChallenge()">
    {% if completed_challenge %}Completed{% else %}Complete Challenge{% endif %}
</button>

                        </div>
                    </div>
                </div>
            </div>

            <div class="section social">
                <div class="section-header">
                    <span class="icon"><i class="fas fa-user-friends"></i></span> –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–í–Ø–ó–ò
                    –°–û–¶–ò–ê–õ–¨–ù–´–ï –°–í–Ø–ó–ò
                </div>
                <div class="section-progress">
                    <div class="section-progress-fill" style="width: 20%"></div>
                </div>

                <div class="tracker-grid">
                    <div class="social-checkboxes">
                        <div class="social-checkbox">
                            <input type="checkbox" id="social-chat" {% if 'social-chat' in social_connections %}checked{% endif %}>
                            <label for="social-chat">üí¨ –ù–∞–ø–∏—Å–∞–ª –¥—Ä—É–≥—É</label>
                        </div>
                        <div class="social-checkbox">
                            <input type="checkbox" id="social-call" {% if 'social-call' in social_connections %}checked{% endif %}>
                            <label for="social-call">üìû –ü–æ–∑–≤–æ–Ω–∏–ª –±–ª–∏–∑–∫–∏–º</label>
                        </div>
                        <div class="social-checkbox">
                            <input type="checkbox" id="social-colleague" {% if 'social-colleague' in social_connections %}checked{% endif %}>
                            <label for="social-colleague">üë• –ü–æ–æ–±—â–∞–ª—Å—è —Å –∫–æ–ª–ª–µ–≥–æ–π</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <span class="icon"><i class="fa-solid fa-chart-area"></i></span>
                    –ü–†–û–ì–†–ï–°–° –î–ù–Ø
                </div>

                <div class="achievements">
                    <div class="achievement">
                        <span>üíß</span>
                        <span>–í—ã–ø–∏–ª {{ water }} —Å—Ç–∞–∫–∞–Ω–∞ –≤–æ–¥—ã</span>
                    </div>
                    <div class="achievement">
                        <span>üç≥</span>
                        <span>–ü–æ–∑–∞–≤—Ç—Ä–∞–∫–∞–ª –∏ –ø–æ–æ–±–µ–¥–∞–ª</span>
                    </div>
                    <div class="achievement">
                        <span>üö∂</span>
                        <span>{{ movement_minutes }} –º–∏–Ω—É—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</span>
                    </div>
                </div>

                <div class="notifications">
                    <div>üîî TELEGRAM: ‚úÖ –ü—Ä–∏–≤—è–∑–∞–Ω</div>
                    <div style="font-size: 12px; margin-top: 5px; opacity: 0.7;">–ü–æ–ª—É—á–∞–µ—à—å —É–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</div>
                </div>
            </div>
        </div>
    </main>

{% endblock %}
{% block extra_js %}
    <script src="{% static 'tracker/js/tracker.js' %}"></script>

{% endblock %}